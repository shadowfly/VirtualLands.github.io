<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>元宇宙地产</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">
    <link href="styles.css" rel="stylesheet">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body ng-app="OTEHP" ng-controller="MainController" id="MainControllerTag">

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container d-flex justify-content-between">
            <a class="navbar-brand" href="#">
                Z世代元宇宙地产
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="./index.html">主页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://hub.link/QWNrUzG">进入虚拟世界</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://map.somniumspace.com/">查看地图</a>
                    </li>
                    <!-- <li class="nav-item">
            <a class="nav-link active" href="./english.tml">English</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" ng-href="./FAQ">FAQ</a>
          </li> 
          <li class="nav-item">
              <a class="nav-link " href="/me"><i class="fas fa-user"></i></a>
          </li>-->
                </ul>
            </div>
        </div>
    </nav>

    <main role="main">

        <div class="album py-5 bg-white">
            <div id="removeAfterLoad" class="text-center">
                <h2>加载中，属于你的第一个完全所有权的虚拟土地资产，即将呈现...</h2>
            </div>
            <canvas id="pixelsCanvas" width="1000" height="1000" style="padding-left: 0;
      padding-right: 0;
      margin-left: auto;
      margin-right: auto;
      display: block;
      width: 1000px;">
            </canvas>

        </div>


        <div class="album py-5 bg-white largerPadding">
            <div class="container text-center maxWidth60">
                <h2>这是什么？</h2>
                <p class="lead text-muted " big>基于区块链的虚拟世界。</p>
                <p class="lead text-muted text-left">Z世代元宇宙地产是基于区块链映射的虚拟世界，基于具有国密标准的国家级联盟链完全所有权的虚拟土地。 所有权存在于区块链世界中。 这片土地包含了1万个地块，您可以购买 并拥有所看中的地块。每个地块包含了一个虚拟土地资产，并永久保存入区块链世界中。
                </p>
            </div>
        </div>

        <div class="album py-5 bg-white largerPadding">
            <div class="container text-center maxWidth60">
                <h2>虚拟土地有哪些特色？</h2>
                <p class="lead text-muted text-left">
                    <strong>基于区块链的永久所有权。</strong>
                    您拥有的地块，只要您不进行挂牌出售，您就永远拥有它! 请保管好购买地块的账号， 地块永久属于持有者，信息永存。以NFT形式承载数字资产，虚拟土地的价值具有稀缺性，
                   并且可编辑性，地主可以在虚拟土地上自由创作！可以在上面构建建筑，虚拟景观，开设虚拟公司等，并且可以随时修改这些信息。
            </div>
        </div>

        <div class="album py-5 bg-white largerPadding">
            <div class="container text-center maxWidth60">
                <h2>如何参与抢购？</h2>
                <p class="lead text-muted text-left">鼠标悬停于虚拟地块上方，可从左下角或右下角跳出的窗口中，浏览地块信息。 如果是空白待售地块，或业主挂牌转让的地块，点击选中的地块，可以购买。 虚拟土地可以转让，可以挂牌销售，转让收入进入余额，可随时提取。虚拟土地地块根据位置具有不同的稀缺度，当产品升级时，会根据稀缺度进行征地。
                 
            </div>
        </div>

        <div class="album py-5 bg-white largerPadding">
            <div class="container text-center maxWidth60">
                <p>
                    <button ng-click="myBalance()" type="button" class="float-left btn btn-outline-primary btn-lg">查询我的余额</button>
                    <button ng-click="withdrawMyEther()" type="button" class="float-left btn btn-outline-primary btn-lg">提取我的余额</button>
                    <br>
                </p>
                <div>
                    <textarea id="myShow" class="form-control textarea">  </textarea>
                </div>
            </div>
        </div>

    </main>

    <footer class="text-muted">
        <div class="container">
            <p class="float-right">
                <a href="" onclick="scrollToTop()">返回顶端</a>
            </p>
            <p>VirtualLands</p>
            

        </div>
    </footer>


    <!-- Right, bottom side infos -->
    <div id="pixelInfos" class="card" ng-if="infosPopUp" ng-cloak>
        <div class="card-header">
            <span ng-if="tokenInfos[cHOTID] != null">
                <span>Owner:
                    <img ng-src="https://robohash.org/{{tokenInfos[cHOTID].owner}}.png?set=set3&size=36x36" />
                    <span class="text-muted">{{ tokenInfos[cHOTID].owner }}</span>
                </span>
            </span>
            <span ng-if="tokenInfos[cHOTID] == null">待售地块</span>
        </div>
        <div class="card-body">
            <h5 class="card-title">虚拟土地编号:
                <strong>{{cHOTID}}</strong>
            </h5>
            <span ng-if="tokenInfos[cHOTID] != null && tokenInfos[cHOTID].description.length > 0">标识: "
                <span class="text-muted">{{tokenInfos[cHOTID].description}}</span>"
                <br>
            </span>

            <span ng-if="tokenInfos[cHOTID] != null && tokenInfos[cHOTID].link.length > 0">链接: "
                <span class="text-muted">{{tokenInfos[cHOTID].link}}</span>"
                <br>
            </span>

            <span ng-if="tokenInfos[cHOTID] != null && tokenInfos[cHOTID].price > 0">正在挂牌出售中，价格： "
                <span class="text-muted">{{tokenInfos[cHOTID].price}}</span> finney"
            </span>

            <p class="card-text">点击查看详细信息!</p>
        </div>
    </div>

    <!-- On click on a land, the modal that shows up -->
    <div class="modal fade" tabindex="-1" role="dialog" id="tokenInfosModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">虚拟土地编号:
                        <strong>{{cHOTID_clicked}}</strong>
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Doesn't belong to anyone -->
                    <p ng-if="tokenInfos[cHOTID_clicked] == null">
                        <span class="text-success">该地块不属于任何人，你可以购买拥有!</span>

                    </p>
                    <!-- Belongs to someone -->
                    <p ng-if="tokenInfos[cHOTID_clicked] != null">
                        <span>Owner:
                            <img ng-src="https://robohash.org/{{tokenInfos[cHOTID_clicked].owner}}.png?set=set3&size=36x36" />
                            <span class="text-muted">{{ tokenInfos[cHOTID_clicked].owner }}</span>
                        </span>
                    </p>
                    <!-- Belongs to the current user -->
                    <p ng-show="tokenInfos[cHOTID_clicked] != null && tokenInfos[cHOTID_clicked].owner == currentAccount" class="text-center">

                        <input type='text' id="flat" />

                        <canvas id="bigPixelsCanvas" width="300" height="300" style="padding-left: 0;
                            padding-right: 0;
                            margin-left: auto;
                            margin-right: auto;
                            display: block;
                            width: 300px;">
                        </canvas>

                        <br>

                        <button type="button" class="btn btn-outline-primary btn-lg" ng-click="saveColors()">已绘画好，保存新图</button>

                        <br>

                        <form ng-show="tokenInfos[cHOTID_clicked] != null && tokenInfos[cHOTID_clicked].owner == currentAccount">

                            <hr>

                            <div class="form-group text-center">
                                <!--<label style="font-size: 2em">Description</label>-->
                                <input class="form-control" type="text" name="LandDescription" ng-model="tokenInfos[cHOTID_clicked].description" class="form-control"
                                    placeholder="地块描述" required>
                                <small class="form-text text-muted">输入你的地块描述语</small>

                                <br>
                                <button type="button" class="btn btn-outline-info btn-lg" ng-click="saveDescription()">保存新的地块描述语</button>
                            </div>

                            <hr>

                            <div class="form-group text-center">
                                <input class="form-control" type="text" name="LandLink" ng-model="tokenInfos[cHOTID_clicked].link" class="form-control" placeholder="地块链接"
                                    required>
                                <small class="form-text text-muted">输入你的地块链接信息</small>
                                <br>
                                <button type="button" class="btn btn-outline-primary btn-lg" ng-click="saveLink()">保存新的链接</button>
                            </div>

                            <hr>

                            <div class="form-group text-center">
                                <input class="form-control" type="text" name="LandPrice" ng-model="tokenInfos[cHOTID_clicked].price" class="form-control"
                                    placeholder="出售价格" required>
                                <small class="form-text text-muted">万请慎重输入价格，以finney为价格单位。1积分=1000finney。价格出错，可能造成损失。可以输入新价格挂牌，覆盖旧价格。（出售成功，会被收取1finney小费）</small>
                                <br>
                                <button type="button" class="btn btn-outline-primary btn-lg" ng-click="sellMyLand()">我要标价出售此地块</button>

                        </form>
                    </p>

                    <p ng-if="tokenInfos[cHOTID_clicked] != null && tokenInfos[cHOTID_clicked].owner != currentAccount">
                        <span ng-if="tokenInfos[cHOTID_clicked].description.length > 0">Description: "
                            <span class="text-muted">{{tokenInfos[cHOTID_clicked].description}}</span>"</span>

                        <br>

                        <span ng-if="tokenInfos[cHOTID_clicked].link.length > 0">Link: "
                            <span class="text-muted">{{tokenInfos[cHOTID_clicked].link}}</span>"</span>
                    </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-success btn-lg btn-block" ng-if="tokenInfos[cHOTID_clicked] == null" ng-click="buyInitialToken()">我要购买</button>

                        <button type="button" class="btn btn-outline-success btn-lg btn-block" ng-if="tokenInfos[cHOTID] != null && tokenInfos[cHOTID].price > 0 && tokenInfos[cHOTID_clicked].owner != currentAccount"
                            ng-click="buyTokenFromOthers()">我要购买</button>


                        <span ng-if="tokenInfos[cHOTID] != null && tokenInfos[cHOTID].price > 0">正在挂牌出售中，价格： "
                            <span class="text-muted">{{tokenInfos[cHOTID].price}}</span> finney"
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->

        <!-- Bootstrap 4 -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

        <!-- Angular JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular.min.js"></script>

        <!-- IPFS JS -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/ipfs/dist/index.min.js"></script> -->

        <!-- Big Number -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bignumber.js/6.0.0/bignumber.min.js"></script>

        <!-- Color picker -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>

        <!-- Smart contract interaction -->
        <script src="https://cdn.jsdelivr.net/npm/web3@0.20.6/dist/web3.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/truffle-contract@3.0.4/dist/truffle-contract.min.js"></script>
        <script src="./JS/angularApp.js"></script>
        <script src="./JS/app.js"></script>

        <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
</body>


</html>